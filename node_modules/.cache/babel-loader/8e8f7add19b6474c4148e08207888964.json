{"ast":null,"code":"function sketch(p5) {\n  let angle = 0;\n  let w = 48;\n  let ma;\n  let maxD;\n\n  p5.setup = () => {\n    p5.createCanvas(600, 600, p5.WEBGL);\n    ma = p5.atan(1 / p5.sqrt(2));\n    maxD = p5.dist(0, 0, 200, 200);\n  };\n\n  p5.draw = () => {\n    p5.background(100);\n    p5.ortho(-300, 300, -500, 500, 0, 1000);\n    p5.ambientLight(255, 255, 255, 0, -1, 0);\n    p5.rotateY(ma);\n    p5.rotateX(-p5.QUARTER_PI); //let offset = 0;\n\n    for (let z = 0; z < p5.height; z += w) {\n      for (let x = 0; x < p5.width; x += w) {\n        p5.push();\n        let d = p5.dist(x, z, p5.width / 2, p5.height / 2);\n        let offset = p5.map(d, 0, maxD, -p5.PI, p5.PI);\n        let a = angle + offset;\n        let h = p5.floor(p5.map(p5.sin(a), -1, 1, 100, 300));\n        p5.translate(x - p5.width / 2, 0, z - p5.height / 2);\n        p5.normalMaterial();\n        p5.box(w - 2, h, w - 2); //p5.rect(x - p5.width / 2 + w / 2, 0, w - 2, h);\n\n        p5.pop();\n      } //offset += 0.1;\n\n    }\n\n    angle += 0.06;\n  };\n}\n\n;\nexport default sketch;","map":{"version":3,"sources":["/home/administrateur/Documents/P5.js/react-and-p5js/src/sketches/sketch.js"],"names":["sketch","p5","angle","w","ma","maxD","setup","createCanvas","WEBGL","atan","sqrt","dist","draw","background","ortho","ambientLight","rotateY","rotateX","QUARTER_PI","z","height","x","width","push","d","offset","map","PI","a","h","floor","sin","translate","normalMaterial","box","pop"],"mappings":"AACA,SAASA,MAAT,CAAgBC,EAAhB,EAAmB;AAEnB,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,CAAC,GAAG,EAAR;AACA,MAAIC,EAAJ;AACA,MAAIC,IAAJ;;AAEIJ,EAAAA,EAAE,CAACK,KAAH,GAAW,MAAM;AACfL,IAAAA,EAAE,CAACM,YAAH,CAAgB,GAAhB,EAAqB,GAArB,EAA0BN,EAAE,CAACO,KAA7B;AACAJ,IAAAA,EAAE,GAAGH,EAAE,CAACQ,IAAH,CAAQ,IAAIR,EAAE,CAACS,IAAH,CAAQ,CAAR,CAAZ,CAAL;AACAL,IAAAA,IAAI,GAAGJ,EAAE,CAACU,IAAH,CAAQ,CAAR,EAAW,CAAX,EAAc,GAAd,EAAmB,GAAnB,CAAP;AACD,GAJD;;AAMAV,EAAAA,EAAE,CAACW,IAAH,GAAU,MAAM;AACdX,IAAAA,EAAE,CAACY,UAAH,CAAc,GAAd;AACAZ,IAAAA,EAAE,CAACa,KAAH,CAAS,CAAC,GAAV,EAAe,GAAf,EAAoB,CAAC,GAArB,EAA0B,GAA1B,EAA+B,CAA/B,EAAkC,IAAlC;AACAb,IAAAA,EAAE,CAACc,YAAH,CAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,CAA/B,EAAkC,CAAC,CAAnC,EAAsC,CAAtC;AACAd,IAAAA,EAAE,CAACe,OAAH,CAAWZ,EAAX;AACAH,IAAAA,EAAE,CAACgB,OAAH,CAAY,CAAChB,EAAE,CAACiB,UAAhB,EALc,CAOd;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,EAAE,CAACmB,MAAvB,EAA+BD,CAAC,IAAIhB,CAApC,EAAuC;AACrC,WAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpB,EAAE,CAACqB,KAAvB,EAA8BD,CAAC,IAAIlB,CAAnC,EAAsC;AACtCF,QAAAA,EAAE,CAACsB,IAAH;AACA,YAAIC,CAAC,GAAGvB,EAAE,CAACU,IAAH,CAAQU,CAAR,EAAWF,CAAX,EAAclB,EAAE,CAACqB,KAAH,GAAW,CAAzB,EAA4BrB,EAAE,CAACmB,MAAH,GAAY,CAAxC,CAAR;AACA,YAAIK,MAAM,GAAGxB,EAAE,CAACyB,GAAH,CAAOF,CAAP,EAAU,CAAV,EAAanB,IAAb,EAAoB,CAACJ,EAAE,CAAC0B,EAAxB,EAA4B1B,EAAE,CAAC0B,EAA/B,CAAb;AACA,YAAIC,CAAC,GAAG1B,KAAK,GAAGuB,MAAhB;AACA,YAAII,CAAC,GAAG5B,EAAE,CAAC6B,KAAH,CAAS7B,EAAE,CAACyB,GAAH,CAAOzB,EAAE,CAAC8B,GAAH,CAAOH,CAAP,CAAP,EAAkB,CAAC,CAAnB,EAAsB,CAAtB,EAAyB,GAAzB,EAA8B,GAA9B,CAAT,CAAR;AACA3B,QAAAA,EAAE,CAAC+B,SAAH,CAAaX,CAAC,GAAGpB,EAAE,CAACqB,KAAH,GAAW,CAA5B,EAA+B,CAA/B,EAAkCH,CAAC,GAAGlB,EAAE,CAACmB,MAAH,GAAY,CAAlD;AACAnB,QAAAA,EAAE,CAACgC,cAAH;AACAhC,QAAAA,EAAE,CAACiC,GAAH,CAAO/B,CAAC,GAAG,CAAX,EAAc0B,CAAd,EAAiB1B,CAAC,GAAG,CAArB,EARsC,CAStC;;AACAF,QAAAA,EAAE,CAACkC,GAAH;AACD,OAZsC,CAavC;;AACD;;AAEHjC,IAAAA,KAAK,IAAI,IAAT;AACC,GAzBC;AA0BH;;AAAA;AAED,eAAeF,MAAf","sourcesContent":["\nfunction sketch(p5){\n\nlet angle = 0;\nlet w = 48;\nlet ma;\nlet maxD;\n\n    p5.setup = () => {\n      p5.createCanvas(600, 600, p5.WEBGL);\n      ma = p5.atan(1 / p5.sqrt(2));\n      maxD = p5.dist(0, 0, 200, 200);\n    }\n\n    p5.draw = () => {\n      p5.background(100);\n      p5.ortho(-300, 300, -500, 500, 0, 1000);\n      p5.ambientLight(255, 255, 255, 0, -1, 0);\n      p5.rotateY(ma);\n      p5.rotateX( -p5.QUARTER_PI);\n\n      //let offset = 0;\n      for (let z = 0; z < p5.height; z += w) {\n        for (let x = 0; x < p5.width; x += w) {\n        p5.push();\n        let d = p5.dist(x, z, p5.width / 2, p5.height / 2);\n        let offset = p5.map(d, 0, maxD , -p5.PI, p5.PI);\n        let a = angle + offset;\n        let h = p5.floor(p5.map(p5.sin(a), -1, 1, 100, 300));\n        p5.translate(x - p5.width / 2, 0, z - p5.height / 2);\n        p5.normalMaterial();\n        p5.box(w - 2, h, w - 2);\n        //p5.rect(x - p5.width / 2 + w / 2, 0, w - 2, h);\n        p5.pop();\n      }\n      //offset += 0.1;\n    }\n\n  angle += 0.06;\n  }\n};\n\nexport default sketch;"]},"metadata":{},"sourceType":"module"}